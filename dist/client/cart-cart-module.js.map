{"version":3,"sources":["./src/app/cart/cart.routes.ts","./src/app/cart/interested/interested.component.ts","./src/app/cart/interested/interested.component.html","./src/app/cart/cart.component.ts","./src/app/cart/cart.component.html","./src/app/cart/empty-cart/empty-cart.component.ts","./src/app/cart/empty-cart/empty-cart.component.html","./src/app/cart/cart.module.ts"],"names":[],"mappings":"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","file":"cart-cart-module.js","sourcesContent":["import { CartComponent } from './cart.component';\r\nimport { Routes } from '@angular/router';\r\nimport { AuthGuardService } from '../services/auth-guard.service';\r\n\r\nexport const CartRoutes: Routes = [\r\n  {\r\n    path: '', component: CartComponent,\r\n    canActivate: [AuthGuardService]\r\n  }\r\n];\r\n","import { ShowcaseState } from './../../store/showcase/showcase.reducer';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\nimport { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport { Store } from '@ngrx/store';\r\nimport * as ShowcaseActions from '../../store/showcase/showcase.actions';\r\nimport * as fromApp from '../../store/app.reducers';\r\nimport { take } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-interested',\r\n  templateUrl: './interested.component.html',\r\n  styleUrls: ['./interested.component.scss']\r\n})\r\nexport class InterestedComponent implements OnInit {\r\n\r\n  @ViewChild('interestedCards') interestedCards: ElementRef;\r\n\r\n  paramSubscription: Subscription;\r\n\r\n  showcaseState: Observable<ShowcaseState>;\r\n  fetchError: HttpErrorResponse = null;\r\n  productUrl: string;\r\n\r\n  constructor(private store: Store<fromApp.AppState>) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.showcaseState = this.store.select('showcase');\r\n    this.store.select('auth').pipe(take(1)).subscribe(auth => {\r\n      if (auth.authenticated) {\r\n        this.showcaseState.pipe(take(1))\r\n          .subscribe(data => {\r\n            if (data.interested.length === 0) {\r\n              this.store.dispatch(new ShowcaseActions.FetchInterested());\r\n            }\r\n          });\r\n      }\r\n    });\r\n  }\r\n\r\n  scrollLeft() {\r\n    this.interestedCards.nativeElement.scrollLeft -= 250;\r\n  }\r\n\r\n  scrollRight() {\r\n    this.interestedCards.nativeElement.scrollLeft += 250;\r\n  }\r\n}\r\n","<div class=\"interested\" *ngIf=\"!fetchError\">\r\n  <div class=\"container\">\r\n    <div class=\"col-md-12\">\r\n      <h3 class=\"title\">You might be interested</h3>\r\n    </div>\r\n    <div *ngIf=\"(showcaseState | async).loading.includes('INTERESTED')\" class=\"loader\"></div>\r\n    <div *ngIf=\"!(showcaseState | async).loading.includes('INTERESTED')\" class=\"scroll-left\" (click)=\"scrollLeft()\">\r\n    </div>\r\n    <div *ngIf=\"!(showcaseState | async).loading.includes('INTERESTED')\" class=\"interested-cards\" #interestedCards>\r\n      <div class=\"interested-card col-lg-3 col-md-6 col-12\" *ngFor=\"let i of (showcaseState | async).interested\">\r\n        <a routerLink=\"/detail/{{i.url}}/{{i.productVariants[0].id}}\">\r\n          <img src=\"{{i.productVariants[0].thumb}}\" alt=\"product image\">\r\n          <hr>\r\n          <p class=\"product-name\">{{i.name}}</p>\r\n          <div class=\"row\">\r\n            <div class=\"col-md-6\">\r\n              <div class=\"product-color\" [ngStyle]=\"{'background-color': i.productVariants[0].color.hex}\"></div>\r\n            </div>\r\n            <div class=\"col-md-6\">\r\n              <p>{{i.productVariants[0].price}} €</p>\r\n            </div>\r\n          </div>\r\n        </a>\r\n      </div>\r\n    </div>\r\n    <div *ngIf=\"!(showcaseState | async).loading.includes('INTERESTED')\" class=\"scroll-right\" (click)=\"scrollRight()\">\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { CartState } from './../store/cart/cart.reducer';\r\nimport { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport * as fromApp from '../store/app.reducers';\r\nimport { Store } from '@ngrx/store';\r\nimport * as CartActions from '../store/cart/cart.actions';\r\nimport * as OrderActions from '../store/order/order.actions';\r\nimport { take } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-cart',\r\n  templateUrl: './cart.component.html',\r\n  styleUrls: ['./cart.component.scss']\r\n})\r\nexport class CartComponent implements OnInit, OnDestroy {\r\n\r\n  cartState: Observable<CartState>;\r\n  cartItemCountSubscription: Subscription;\r\n  showDiscountInput = false;\r\n\r\n  applyCodeShow = false;\r\n  cartItemCount = 0;\r\n\r\n  constructor(private store: Store<fromApp.AppState>, private router: Router, private route: ActivatedRoute) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.cartState = this.store.select('cart');\r\n    this.cartItemCountSubscription = this.cartState.subscribe(data => {\r\n      if (data.cart && data.cart.cartItems.length) {\r\n        this.cartItemCount = data.cart.cartItems.reduce((total, cartItem) => total + cartItem.amount, 0);\r\n      } else {\r\n        this.cartItemCount = 0;\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.cartItemCountSubscription) {\r\n      this.cartItemCountSubscription.unsubscribe();\r\n    }\r\n  }\r\n\r\n  applyCode(discountCodeField: HTMLInputElement) {\r\n    const discountCode = discountCodeField.value;\r\n    this.store.dispatch(new CartActions.ApplyDiscount(discountCode));\r\n\r\n  }\r\n\r\n  goToItem(productUrl) {\r\n    this.router.navigate(['/detail/', productUrl], { relativeTo: this.route });\r\n  }\r\n\r\n  removeFromCart(id: number) {\r\n    this.store.dispatch(new CartActions.RemoveFromCart(id));\r\n  }\r\n\r\n  amountIncrement(id: number) {\r\n    this.store.dispatch(new CartActions.IncrementCart({ id, amount: '1' }));\r\n  }\r\n\r\n  amountDecrement(id: number) {\r\n    this.store.dispatch(new CartActions.DecrementCart({ id, amount: '1' }));\r\n  }\r\n\r\n  activatePurchase() {\r\n    this.store.select('auth')\r\n      .pipe(take(1))\r\n      .subscribe(data => {\r\n        if (data.isActive) {\r\n          this.store.dispatch(new OrderActions.IsCheckoutActive(true));\r\n          this.router.navigate(['/checkout/personal'], { relativeTo: this.route });\r\n        } else {\r\n          alert('Your account is inactive. You must activate your account in order to purchase.\\nPlease check your email.');\r\n        }\r\n      });\r\n  }\r\n}\r\n","<div class=\"display container-fluid\">\r\n  <div class=\"row\" *ngIf=\"(cartState | async).cart && (cartState | async).cart.cartItems.length > 0 ;else emptyCart\">\r\n    <div class=\"cart-info col-md-7\">\r\n      <div class=\"title\">\r\n        <p>Shopping Cart</p>\r\n        <span>You have {{cartItemCount}} item<span *ngIf=\"cartItemCount > 1\">s</span> in your cart.</span>\r\n      </div>\r\n      <div *ngFor=\"let e of (cartState | async).errors\">\r\n        <div *ngIf=\"e.errorEffect == 'REMOVE_FROM_CART'\" class=\"alert-warning p-2\">\r\n          <div *ngIf=\"e.error.status === 400 || e.error.status === 401\">Could not remove item.</div>\r\n          <div *ngIf=\"e.error.status === 500 || e.error.status === 0\">Internal server error! Please contact our\r\n            support team.\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"row item\" *ngFor=\"let cartItem of (cartState | async).cart.cartItems\">\r\n        <div class=\"col-md-3 product-image\">\r\n          <div class=\"color\" [ngStyle]=\"{'background-color': cartItem.color.hex}\"></div>\r\n          <img src=\"{{cartItem.thumb}}\" alt=\"{{cartItem.name}}\" (click)=\"goToItem(cartItem.url)\" />\r\n        </div>\r\n\r\n        <div class=\"col-md-3 description\" (click)=\"goToItem(cartItem.url)\">\r\n          <span>\r\n            {{cartItem.name}}\r\n          </span>\r\n        </div>\r\n\r\n        <div class=\"col-md-3 quantity\">\r\n          <div *ngIf=\"(cartState | async).loading\" class=\"loader\"></div>\r\n          <div *ngIf=\"!(cartState | async).loading\">\r\n            <button class=\"minus-btn\" type=\"button\" (click)=\"amountDecrement(cartItem.id)\">\r\n              -\r\n            </button>\r\n            <span>{{cartItem.amount}}</span>\r\n            <button class=\"plus-btn\" type=\"button\" (click)=\"amountIncrement(cartItem.id)\">\r\n              +\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"col-md-2 item-price\">\r\n          <span *ngIf=\"cartItem.stock >= cartItem.amount\">{{cartItem.price}} €</span>\r\n          <span *ngIf=\"cartItem.stock < cartItem.amount\">Out Of Stock</span>\r\n        </div>\r\n\r\n        <div class=\"col-md-1 delete\">\r\n          <div *ngIf=\"(cartState | async).loading\" class=\"loader\"></div>\r\n          <span *ngIf=\"!(cartState | async).loading\" (click)=\"removeFromCart(cartItem.id)\"></span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-md-1\"></div>\r\n    <div class=\"summary col-md-4\">\r\n      <div class=\"title\">\r\n        Summary\r\n      </div>\r\n      <div class=\"pricing\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-4 col-4\">\r\n            <span class=\"label\">Cart</span>\r\n          </div>\r\n          <div class=\"col-md-8 col-8\">\r\n            <span>{{(cartState | async).cart.totalCartPrice.toFixed(2) | number:'1.2' }} €</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"row \">\r\n          <div class=\"col-md-4 col-4\">\r\n            <span class=\"label\">Shipping</span>\r\n          </div>\r\n          <div class=\"col-md-8 col-8\">\r\n            <span>{{(cartState | async).cart.totalCargoPrice.toFixed(2) | number:'1.2' }} €</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div *ngIf=\"(cartState | async).cart.discount\" class=\"row\">\r\n          <div class=\"col-md-4 col-4\">\r\n            <span class=\"label discount-text\">Discount</span>\r\n          </div>\r\n          <div class=\"col-md-8 col-8\">\r\n            <span class=\"discount-text\">{{(cartState | async).cart.discount.discountPercent}}%</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div *ngIf=\"!(cartState | async).cart.discount && !showDiscountInput\" class=\"row\"\r\n          (click)=\"showDiscountInput = true\">\r\n          <div class=\"col-md-12\">\r\n            <span class=\"discount-add-text\">Add discount code <span>></span></span>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class=\"total\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-4 col-4\">\r\n            <span class=\"label\">Total</span>\r\n          </div>\r\n          <div class=\"col-md-8 col-8\">\r\n            <span>{{(cartState | async).cart.totalPrice.toFixed(2) | number:'1.2' }} €</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"checkout\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-12\">\r\n            <button class=\"btn\" (click)=\"activatePurchase()\">CHECKOUT</button>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"row\" *ngIf=\"showDiscountInput\">\r\n          <div class=\"col-md-12\">\r\n            <div *ngFor=\"let e of (cartState | async).errors\">\r\n              <div *ngIf=\"e.errorEffect == 'APPLY_DISCOUNT'\" class=\"alert-warning p-2\">\r\n                <div *ngIf=\"e.error.status === 404\">Discount code not found.</div>\r\n                <div *ngIf=\"e.error.status === 400 || e.error.status === 401\">Bad request.</div>\r\n                <div *ngIf=\"e.error.status === 500 || e.error.status === 0\">Internal server error! Please contact\r\n                  our support team.\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div *ngIf=\"(cartState | async).loading\" class=\"loader\"></div>\r\n\r\n            <div *ngIf=\"!(cartState | async).loading && !(cartState | async).cart.discount\" class=\"row discount\">\r\n              <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                  <p>Discount Code</p>\r\n                </div>\r\n              </div>\r\n              <div class=\"row\">\r\n                <div class=\"col-md-7\">\r\n                  <input class=\"form-control\" #discountCodeField type=\"text\">\r\n                </div>\r\n                <div class=\"col-md-5\">\r\n                  <button class=\"btn apply-code\" (click)=\"applyCode(discountCodeField)\">Apply</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<ng-template #emptyCart>\r\n  <div *ngIf=\"(cartState | async).fetchLoading\" class=\"loader\"></div>\r\n  <div *ngIf=\"(cartState | async).fetchLoading == false\">\r\n    <app-empty-cart></app-empty-cart>\r\n  </div>\r\n</ng-template>\r\n<div class=\"container\">\r\n  <div>\r\n    <app-interested></app-interested>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-empty-cart',\r\n  templateUrl: './empty-cart.component.html',\r\n  styleUrls: ['./empty-cart.component.scss']\r\n})\r\nexport class EmptyCartComponent implements OnInit {\r\n\r\n  constructor() {\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<div class=\"empty-cart container\">\r\n  <div class=\"row\">\r\n    <div class=\"col-md-12 col-12 text-center\">\r\n      <span class=\"fa fa-shopping-cart\"></span>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-md-12 col-12\">\r\n      <p>Your cart is empty.</p>\r\n      <a class=\"btn home\" routerLink=\"/\">Homepage</a>\r\n      <a class=\"btn browse\" routerLink=\"/browse\">Browse</a>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { CartComponent } from './cart.component';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { CartRoutes } from './cart.routes';\r\nimport { EmptyCartComponent } from './empty-cart/empty-cart.component';\r\nimport { InterestedComponent } from './interested/interested.component';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(CartRoutes),\r\n    ReactiveFormsModule,\r\n    NgbModule\r\n  ],\r\n  declarations: [CartComponent, EmptyCartComponent, InterestedComponent]\r\n})\r\nexport class CartModule {\r\n}\r\n"],"sourceRoot":"webpack:///"}